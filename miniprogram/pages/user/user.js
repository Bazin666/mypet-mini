"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = require("../../utils/util");
Page({
    data: {
        userInfo: undefined,
        hasUserInfo: false,
    },
    bindViewTap: function () {
        wx.navigateTo({
            url: '../logs/logs',
        });
    },
    toLogin: function (e) {
        console.log(e);
        wx.navigateTo({
            url: "../login/login"
        });
    },
    onLoad: function () {
        var _this = this;
        _this.setData({
            userInfo: wx.getStorageSync('userInfo')
        });
        if (_this.data.userInfo) {
            _this.setData({
                hasUserInfo: true
            });
        }
        if (util_1.getUserToken() == null || util_1.getUserToken() == '') {
            wx.navigateTo({
                url: '../login/login'
            });
        }
        var eventChannel = this.getOpenerEventChannel();
        if (eventChannel.on) {
            eventChannel.on('sendUserInfo', function (userinfo) {
                _this.setData({ userInfo: userinfo.data });
                _this.setData({ hasUserInfo: true });
            });
        }
    },
    toquestion: function (e) {
        console.log(e);
        wx.navigateTo({
            url: '../question/question'
        });
    },
    showQuestion: function (e) {
        console.log(e);
        wx.navigateTo({
            url: '../question/showquestion'
        });
    },
    toreg: function () {
        wx.navigateTo({
            url: '../reg/reg'
        });
    },
    onShow: function () {
        if (typeof this.getTabBar === 'function' &&
            this.getTabBar()) {
            this.getTabBar().setData({
                selected: 1
            });
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInVzZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQSx5Q0FBNkM7QUFDN0MsSUFBSSxDQUFDO0lBQ0gsSUFBSSxFQUFFO1FBYUosUUFBUSxFQUFFLFNBQVM7UUFDbkIsV0FBVyxFQUFFLEtBQUs7S0FFbkI7SUFFRCxXQUFXO1FBQ1QsRUFBRSxDQUFDLFVBQVUsQ0FBQztZQUNaLEdBQUcsRUFBRSxjQUFjO1NBQ3BCLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxPQUFPLFlBQUMsQ0FBSztRQUNYLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDZCxFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFDLGdCQUFnQjtTQUNyQixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsTUFBTTtRQUNKLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQztRQUNuQixLQUFLLENBQUMsT0FBTyxDQUFDO1lBQ1osUUFBUSxFQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDO1NBQ3ZDLENBQUMsQ0FBQTtRQUNGLElBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUM7WUFDckIsS0FBSyxDQUFDLE9BQU8sQ0FBQztnQkFDWixXQUFXLEVBQUMsSUFBSTthQUNqQixDQUFDLENBQUE7U0FDSDtRQUNELElBQUcsbUJBQVksRUFBRSxJQUFHLElBQUksSUFBSSxtQkFBWSxFQUFFLElBQUksRUFBRSxFQUFDO1lBQy9DLEVBQUUsQ0FBQyxVQUFVLENBQUM7Z0JBQ1osR0FBRyxFQUFDLGdCQUFnQjthQUNyQixDQUFDLENBQUE7U0FDSDtRQTRCRCxJQUFNLFlBQVksR0FBRyxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQTtRQUNqRCxJQUFHLFlBQVksQ0FBQyxFQUFFLEVBQUM7WUFDakIsWUFBWSxDQUFDLEVBQUUsQ0FBQyxjQUFjLEVBQUUsVUFBUyxRQUFRO2dCQUMvQyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUMsUUFBUSxFQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFBO2dCQUN2QyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUMsV0FBVyxFQUFDLElBQUksRUFBQyxDQUFDLENBQUE7WUFDbkMsQ0FBQyxDQUFDLENBQUE7U0FDSDtJQUNILENBQUM7SUFXRCxVQUFVLFlBQUMsQ0FBSztRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDZCxFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFDLHNCQUFzQjtTQUMzQixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsWUFBWSxZQUFDLENBQUs7UUFDaEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNkLEVBQUUsQ0FBQyxVQUFVLENBQUM7WUFDWixHQUFHLEVBQUMsMEJBQTBCO1NBQy9CLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFFRCxLQUFLO1FBQ0gsRUFBRSxDQUFDLFVBQVUsQ0FBQztZQUNaLEdBQUcsRUFBQyxZQUFZO1NBQ2pCLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxNQUFNO1FBQ0osSUFBSSxPQUFPLElBQUksQ0FBQyxTQUFTLEtBQUssVUFBVTtZQUNwQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDbEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQztnQkFDdkIsUUFBUSxFQUFFLENBQUM7YUFDWixDQUFDLENBQUE7U0FDSDtJQUNMLENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbmRleC50c1xyXG4vLyDojrflj5blupTnlKjlrp7kvotcclxuLy8gY29uc3QgYXBwID0gZ2V0QXBwPElBcHBPcHRpb24+KClcclxuaW1wb3J0IHtnZXRVc2VyVG9rZW59IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnXHJcblBhZ2Uoe1xyXG4gIGRhdGE6IHtcclxuICAvLyAgIGxpc3Q6IFt7XHJcbiAgLy8gICAgIFwidGV4dFwiOiBcInNob3V5ZVwiLFxyXG4gIC8vICAgICBcImljb25QYXRoXCI6IFwiLi8uLi8uLi9zdGF0aWMvaW1nL3Nob3V5ZS5wbmdcIixcclxuICAvLyAgICAgXCJzZWxlY3RlZEljb25QYXRoXCI6IFwiLi4vLi4vc3RhdGljL2ltZy9zaG91eWUucG5nXCIsXHJcbiAgLy8gICAgIGRvdDogdHJ1ZVxyXG4gIC8vIH0sXHJcbiAgLy8ge1xyXG4gIC8vICAgXCJ0ZXh0XCI6IFwieW9uZ2h1emhvbmd4aW5cIixcclxuICAvLyAgIFwiaWNvblBhdGhcIjogXCIuLi8uLi9zdGF0aWMvaW1nL3lvbmdodS5wbmdcIixcclxuICAvLyAgIFwic2VsZWN0ZWRJY29uUGF0aFwiOiBcIi4uLy4uL3N0YXRpYy9pbWcveW9uZ2h1LnBuZ1wiLFxyXG4gIC8vICAgICBiYWRnZTogJ05ldydcclxuICAvLyB9XSxcclxuICAgIHVzZXJJbmZvOiB1bmRlZmluZWQsXHJcbiAgICBoYXNVc2VySW5mbzogZmFsc2UsXHJcbiAgICAvLyBjYW5JVXNlOiB3eC5jYW5JVXNlKCdidXR0b24ub3Blbi10eXBlLmdldFVzZXJJbmZvJyksXHJcbiAgfSxcclxuICAvLyDkuovku7blpITnkIblh73mlbBcclxuICBiaW5kVmlld1RhcCgpIHtcclxuICAgIHd4Lm5hdmlnYXRlVG8oe1xyXG4gICAgICB1cmw6ICcuLi9sb2dzL2xvZ3MnLFxyXG4gICAgfSlcclxuICB9LFxyXG4gIHRvTG9naW4oZTphbnkpe1xyXG4gICAgY29uc29sZS5sb2coZSlcclxuICAgIHd4Lm5hdmlnYXRlVG8oe1xyXG4gICAgICB1cmw6XCIuLi9sb2dpbi9sb2dpblwiXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgb25Mb2FkKCkge1xyXG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuc2V0RGF0YSh7XHJcbiAgICAgIHVzZXJJbmZvOnd4LmdldFN0b3JhZ2VTeW5jKCd1c2VySW5mbycpXHJcbiAgICB9KVxyXG4gICAgaWYoX3RoaXMuZGF0YS51c2VySW5mbyl7XHJcbiAgICAgIF90aGlzLnNldERhdGEoe1xyXG4gICAgICAgIGhhc1VzZXJJbmZvOnRydWVcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIGlmKGdldFVzZXJUb2tlbigpID09bnVsbCB8fCBnZXRVc2VyVG9rZW4oKSA9PSAnJyl7XHJcbiAgICAgIHd4Lm5hdmlnYXRlVG8oe1xyXG4gICAgICAgIHVybDonLi4vbG9naW4vbG9naW4nXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIGlmIChhcHAuZ2xvYmFsRGF0YS51c2VySW5mbykge1xyXG4gICAgLy8gICB0aGlzLnNldERhdGEoe1xyXG4gICAgLy8gICAgIHVzZXJJbmZvOiBhcHAuZ2xvYmFsRGF0YS51c2VySW5mbyxcclxuICAgIC8vICAgICBoYXNVc2VySW5mbzogdHJ1ZSxcclxuICAgIC8vICAgfSlcclxuICAgIC8vIH0gZWxzZSBpZiAodGhpcy5kYXRhLmNhbklVc2UpIHtcclxuICAgIC8vICAgLy8g55Sx5LqOIGdldFVzZXJJbmZvIOaYr+e9kee7nOivt+axgu+8jOWPr+iDveS8muWcqCBQYWdlLm9uTG9hZCDkuYvlkI7miY3ov5Tlm55cclxuICAgIC8vICAgLy8g5omA5Lul5q2k5aSE5Yqg5YWlIGNhbGxiYWNrIOS7pemYsuatoui/meenjeaDheWGtVxyXG4gICAgLy8gICBhcHAudXNlckluZm9SZWFkeUNhbGxiYWNrID0gcmVzID0+IHtcclxuICAgIC8vICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgLy8gICAgICAgdXNlckluZm86IHJlcy51c2VySW5mbyxcclxuICAgIC8vICAgICAgIGhhc1VzZXJJbmZvOiB0cnVlLFxyXG4gICAgLy8gICAgIH0pXHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH0gZWxzZSB7XHJcbiAgICAvLyAgIC8vIOWcqOayoeaciSBvcGVuLXR5cGU9Z2V0VXNlckluZm8g54mI5pys55qE5YW85a655aSE55CGXHJcbiAgICAvLyAgIHd4LmdldFVzZXJJbmZvKHtcclxuICAgIC8vICAgICBzdWNjZXNzOiByZXMgPT4ge1xyXG4gICAgLy8gICAgICAgYXBwLmdsb2JhbERhdGEudXNlckluZm8gPSByZXMudXNlckluZm9cclxuICAgIC8vICAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAvLyAgICAgICAgIHVzZXJJbmZvOiByZXMudXNlckluZm8sXHJcbiAgICAvLyAgICAgICAgIGhhc1VzZXJJbmZvOiB0cnVlLFxyXG4gICAgLy8gICAgICAgfSlcclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICB9KVxyXG4gICAgLy8gfVxyXG4gICAgY29uc3QgZXZlbnRDaGFubmVsID0gdGhpcy5nZXRPcGVuZXJFdmVudENoYW5uZWwoKVxyXG4gICAgaWYoZXZlbnRDaGFubmVsLm9uKXtcclxuICAgICAgZXZlbnRDaGFubmVsLm9uKCdzZW5kVXNlckluZm8nLCBmdW5jdGlvbih1c2VyaW5mbykge1xyXG4gICAgICAgIF90aGlzLnNldERhdGEoe3VzZXJJbmZvOnVzZXJpbmZvLmRhdGF9KVxyXG4gICAgICAgIF90aGlzLnNldERhdGEoe2hhc1VzZXJJbmZvOnRydWV9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gZ2V0VXNlckluZm8oZTogYW55KSB7XHJcbiAgLy8gICBjb25zb2xlLmxvZyhlKVxyXG4gIC8vICAgYXBwLmdsb2JhbERhdGEudXNlckluZm8gPSBlLmRldGFpbC51c2VySW5mb1xyXG4gIC8vICAgdGhpcy5zZXREYXRhKHtcclxuICAvLyAgICAgdXNlckluZm86IGUuZGV0YWlsLnVzZXJJbmZvLFxyXG4gIC8vICAgICBoYXNVc2VySW5mbzogdHJ1ZSxcclxuICAvLyAgIH0pXHJcbiAgLy8gfSxcclxuXHJcbiAgLy9cclxuICB0b3F1ZXN0aW9uKGU6YW55KXtcclxuICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICB3eC5uYXZpZ2F0ZVRvKHtcclxuICAgICAgdXJsOicuLi9xdWVzdGlvbi9xdWVzdGlvbidcclxuICAgIH0pXHJcbiAgfSxcclxuICBzaG93UXVlc3Rpb24oZTphbnkpe1xyXG4gICAgY29uc29sZS5sb2coZSlcclxuICAgIHd4Lm5hdmlnYXRlVG8oe1xyXG4gICAgICB1cmw6Jy4uL3F1ZXN0aW9uL3Nob3dxdWVzdGlvbidcclxuICAgIH0pXHJcbiAgfVxyXG4gICxcclxuICB0b3JlZygpe1xyXG4gICAgd3gubmF2aWdhdGVUbyh7XHJcbiAgICAgIHVybDonLi4vcmVnL3JlZydcclxuICAgIH0pXHJcbiAgfSxcclxuICBvblNob3coKXtcclxuICAgIGlmICh0eXBlb2YgdGhpcy5nZXRUYWJCYXIgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICB0aGlzLmdldFRhYkJhcigpKSB7XHJcbiAgICAgICAgdGhpcy5nZXRUYWJCYXIoKS5zZXREYXRhKHtcclxuICAgICAgICAgIHNlbGVjdGVkOiAxXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gIH1cclxufSkiXX0=