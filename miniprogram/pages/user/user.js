"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = require("../../utils/util");
Page({
    data: {
        userInfo: {},
        hasUserInfo: false,
        canIUse: wx.canIUse('button.open-type.getUserInfo'),
    },
    bindViewTap: function () {
        wx.navigateTo({
            url: '../logs/logs',
        });
    },
    tologin: function () {
        wx.navigateTo({
            url: "../login/login"
        });
    },
    onLoad: function () {
        var _this = this;
        _this.setData({
            userInfo: wx.getStorageSync('userInfo')
        });
        _this.setData({
            hasUserInfo: true
        });
        if (util_1.getUserToken() == null || util_1.getUserToken() == '') {
            wx.navigateTo({
                url: '../login/login'
            });
        }
        var eventChannel = this.getOpenerEventChannel();
        if (eventChannel.on) {
            eventChannel.on('sendUserInfo', function (userinfo) {
                _this.setData({ userInfo: userinfo.data });
                _this.setData({ hasUserInfo: true });
            });
        }
    },
    toquestion: function (e) {
        console.log(e);
        wx.navigateTo({
            url: '../question/question'
        });
    },
    showQuestion: function (e) {
        console.log(e);
        wx.navigateTo({
            url: '../question/showquestion'
        });
    },
    toreg: function () {
        wx.navigateTo({
            url: '../reg/reg'
        });
    },
    onShow: function () {
        if (typeof this.getTabBar === 'function' &&
            this.getTabBar()) {
            this.getTabBar().setData({
                selected: 1
            });
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInVzZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQSx5Q0FBNkM7QUFDN0MsSUFBSSxDQUFDO0lBQ0gsSUFBSSxFQUFFO1FBYUosUUFBUSxFQUFFLEVBQUU7UUFDWixXQUFXLEVBQUUsS0FBSztRQUNsQixPQUFPLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQztLQUNwRDtJQUVELFdBQVc7UUFDVCxFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFFLGNBQWM7U0FDcEIsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUNELE9BQU87UUFDTCxFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFDLGdCQUFnQjtTQUNyQixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsTUFBTTtRQUNKLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQztRQUNuQixLQUFLLENBQUMsT0FBTyxDQUFDO1lBQ1osUUFBUSxFQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDO1NBQ3ZDLENBQUMsQ0FBQTtRQUNGLEtBQUssQ0FBQyxPQUFPLENBQUM7WUFDWixXQUFXLEVBQUMsSUFBSTtTQUNqQixDQUFDLENBQUE7UUFDRixJQUFHLG1CQUFZLEVBQUUsSUFBRyxJQUFJLElBQUksbUJBQVksRUFBRSxJQUFJLEVBQUUsRUFBQztZQUMvQyxFQUFFLENBQUMsVUFBVSxDQUFDO2dCQUNaLEdBQUcsRUFBQyxnQkFBZ0I7YUFDckIsQ0FBQyxDQUFBO1NBQ0g7UUE0QkQsSUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUE7UUFDakQsSUFBRyxZQUFZLENBQUMsRUFBRSxFQUFDO1lBQ2pCLFlBQVksQ0FBQyxFQUFFLENBQUMsY0FBYyxFQUFFLFVBQVMsUUFBUTtnQkFDL0MsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFDLFFBQVEsRUFBQyxRQUFRLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQTtnQkFDdkMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFDLFdBQVcsRUFBQyxJQUFJLEVBQUMsQ0FBQyxDQUFBO1lBQ25DLENBQUMsQ0FBQyxDQUFBO1NBQ0g7SUFDSCxDQUFDO0lBV0QsVUFBVSxZQUFDLENBQUs7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2QsRUFBRSxDQUFDLFVBQVUsQ0FBQztZQUNaLEdBQUcsRUFBQyxzQkFBc0I7U0FDM0IsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUNELFlBQVksWUFBQyxDQUFLO1FBQ2hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDZCxFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFDLDBCQUEwQjtTQUMvQixDQUFDLENBQUE7SUFDSixDQUFDO0lBRUQsS0FBSztRQUNILEVBQUUsQ0FBQyxVQUFVLENBQUM7WUFDWixHQUFHLEVBQUMsWUFBWTtTQUNqQixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsTUFBTTtRQUNKLElBQUksT0FBTyxJQUFJLENBQUMsU0FBUyxLQUFLLFVBQVU7WUFDcEMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxPQUFPLENBQUM7Z0JBQ3ZCLFFBQVEsRUFBRSxDQUFDO2FBQ1osQ0FBQyxDQUFBO1NBQ0g7SUFDTCxDQUFDO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW5kZXgudHNcclxuLy8g6I635Y+W5bqU55So5a6e5L6LXHJcbi8vIGNvbnN0IGFwcCA9IGdldEFwcDxJQXBwT3B0aW9uPigpXHJcbmltcG9ydCB7Z2V0VXNlclRva2VufSBmcm9tICcuLi8uLi91dGlscy91dGlsJ1xyXG5QYWdlKHtcclxuICBkYXRhOiB7XHJcbiAgLy8gICBsaXN0OiBbe1xyXG4gIC8vICAgICBcInRleHRcIjogXCJzaG91eWVcIixcclxuICAvLyAgICAgXCJpY29uUGF0aFwiOiBcIi4vLi4vLi4vc3RhdGljL2ltZy9zaG91eWUucG5nXCIsXHJcbiAgLy8gICAgIFwic2VsZWN0ZWRJY29uUGF0aFwiOiBcIi4uLy4uL3N0YXRpYy9pbWcvc2hvdXllLnBuZ1wiLFxyXG4gIC8vICAgICBkb3Q6IHRydWVcclxuICAvLyB9LFxyXG4gIC8vIHtcclxuICAvLyAgIFwidGV4dFwiOiBcInlvbmdodXpob25neGluXCIsXHJcbiAgLy8gICBcImljb25QYXRoXCI6IFwiLi4vLi4vc3RhdGljL2ltZy95b25naHUucG5nXCIsXHJcbiAgLy8gICBcInNlbGVjdGVkSWNvblBhdGhcIjogXCIuLi8uLi9zdGF0aWMvaW1nL3lvbmdodS5wbmdcIixcclxuICAvLyAgICAgYmFkZ2U6ICdOZXcnXHJcbiAgLy8gfV0sXHJcbiAgICB1c2VySW5mbzoge30sXHJcbiAgICBoYXNVc2VySW5mbzogZmFsc2UsXHJcbiAgICBjYW5JVXNlOiB3eC5jYW5JVXNlKCdidXR0b24ub3Blbi10eXBlLmdldFVzZXJJbmZvJyksXHJcbiAgfSxcclxuICAvLyDkuovku7blpITnkIblh73mlbBcclxuICBiaW5kVmlld1RhcCgpIHtcclxuICAgIHd4Lm5hdmlnYXRlVG8oe1xyXG4gICAgICB1cmw6ICcuLi9sb2dzL2xvZ3MnLFxyXG4gICAgfSlcclxuICB9LFxyXG4gIHRvbG9naW4oKXtcclxuICAgIHd4Lm5hdmlnYXRlVG8oe1xyXG4gICAgICB1cmw6XCIuLi9sb2dpbi9sb2dpblwiXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgb25Mb2FkKCkge1xyXG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuc2V0RGF0YSh7XHJcbiAgICAgIHVzZXJJbmZvOnd4LmdldFN0b3JhZ2VTeW5jKCd1c2VySW5mbycpXHJcbiAgICB9KVxyXG4gICAgX3RoaXMuc2V0RGF0YSh7XHJcbiAgICAgIGhhc1VzZXJJbmZvOnRydWVcclxuICAgIH0pXHJcbiAgICBpZihnZXRVc2VyVG9rZW4oKSA9PW51bGwgfHwgZ2V0VXNlclRva2VuKCkgPT0gJycpe1xyXG4gICAgICB3eC5uYXZpZ2F0ZVRvKHtcclxuICAgICAgICB1cmw6Jy4uL2xvZ2luL2xvZ2luJ1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBpZiAoYXBwLmdsb2JhbERhdGEudXNlckluZm8pIHtcclxuICAgIC8vICAgdGhpcy5zZXREYXRhKHtcclxuICAgIC8vICAgICB1c2VySW5mbzogYXBwLmdsb2JhbERhdGEudXNlckluZm8sXHJcbiAgICAvLyAgICAgaGFzVXNlckluZm86IHRydWUsXHJcbiAgICAvLyAgIH0pXHJcbiAgICAvLyB9IGVsc2UgaWYgKHRoaXMuZGF0YS5jYW5JVXNlKSB7XHJcbiAgICAvLyAgIC8vIOeUseS6jiBnZXRVc2VySW5mbyDmmK/nvZHnu5zor7fmsYLvvIzlj6/og73kvJrlnKggUGFnZS5vbkxvYWQg5LmL5ZCO5omN6L+U5ZueXHJcbiAgICAvLyAgIC8vIOaJgOS7peatpOWkhOWKoOWFpSBjYWxsYmFjayDku6XpmLLmraLov5nnp43mg4XlhrVcclxuICAgIC8vICAgYXBwLnVzZXJJbmZvUmVhZHlDYWxsYmFjayA9IHJlcyA9PiB7XHJcbiAgICAvLyAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgIC8vICAgICAgIHVzZXJJbmZvOiByZXMudXNlckluZm8sXHJcbiAgICAvLyAgICAgICBoYXNVc2VySW5mbzogdHJ1ZSxcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9IGVsc2Uge1xyXG4gICAgLy8gICAvLyDlnKjmsqHmnIkgb3Blbi10eXBlPWdldFVzZXJJbmZvIOeJiOacrOeahOWFvOWuueWkhOeQhlxyXG4gICAgLy8gICB3eC5nZXRVc2VySW5mbyh7XHJcbiAgICAvLyAgICAgc3VjY2VzczogcmVzID0+IHtcclxuICAgIC8vICAgICAgIGFwcC5nbG9iYWxEYXRhLnVzZXJJbmZvID0gcmVzLnVzZXJJbmZvXHJcbiAgICAvLyAgICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgLy8gICAgICAgICB1c2VySW5mbzogcmVzLnVzZXJJbmZvLFxyXG4gICAgLy8gICAgICAgICBoYXNVc2VySW5mbzogdHJ1ZSxcclxuICAgIC8vICAgICAgIH0pXHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vICAgfSlcclxuICAgIC8vIH1cclxuICAgIGNvbnN0IGV2ZW50Q2hhbm5lbCA9IHRoaXMuZ2V0T3BlbmVyRXZlbnRDaGFubmVsKClcclxuICAgIGlmKGV2ZW50Q2hhbm5lbC5vbil7XHJcbiAgICAgIGV2ZW50Q2hhbm5lbC5vbignc2VuZFVzZXJJbmZvJywgZnVuY3Rpb24odXNlcmluZm8pIHtcclxuICAgICAgICBfdGhpcy5zZXREYXRhKHt1c2VySW5mbzp1c2VyaW5mby5kYXRhfSlcclxuICAgICAgICBfdGhpcy5zZXREYXRhKHtoYXNVc2VySW5mbzp0cnVlfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9LFxyXG4gIC8vIGdldFVzZXJJbmZvKGU6IGFueSkge1xyXG4gIC8vICAgY29uc29sZS5sb2coZSlcclxuICAvLyAgIGFwcC5nbG9iYWxEYXRhLnVzZXJJbmZvID0gZS5kZXRhaWwudXNlckluZm9cclxuICAvLyAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgLy8gICAgIHVzZXJJbmZvOiBlLmRldGFpbC51c2VySW5mbyxcclxuICAvLyAgICAgaGFzVXNlckluZm86IHRydWUsXHJcbiAgLy8gICB9KVxyXG4gIC8vIH0sXHJcblxyXG4gIC8vXHJcbiAgdG9xdWVzdGlvbihlOmFueSl7XHJcbiAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgd3gubmF2aWdhdGVUbyh7XHJcbiAgICAgIHVybDonLi4vcXVlc3Rpb24vcXVlc3Rpb24nXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgc2hvd1F1ZXN0aW9uKGU6YW55KXtcclxuICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICB3eC5uYXZpZ2F0ZVRvKHtcclxuICAgICAgdXJsOicuLi9xdWVzdGlvbi9zaG93cXVlc3Rpb24nXHJcbiAgICB9KVxyXG4gIH1cclxuICAsXHJcbiAgdG9yZWcoKXtcclxuICAgIHd4Lm5hdmlnYXRlVG8oe1xyXG4gICAgICB1cmw6Jy4uL3JlZy9yZWcnXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgb25TaG93KCl7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuZ2V0VGFiQmFyID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgdGhpcy5nZXRUYWJCYXIoKSkge1xyXG4gICAgICAgIHRoaXMuZ2V0VGFiQmFyKCkuc2V0RGF0YSh7XHJcbiAgICAgICAgICBzZWxlY3RlZDogMVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICB9XHJcbn0pIl19