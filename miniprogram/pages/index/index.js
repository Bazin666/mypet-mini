"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = require("../../utils/util");
Page({
    data: {
        userInfo: {},
        hasUserInfo: false,
        canIUse: wx.canIUse('button.open-type.getUserInfo'),
    },
    bindViewTap: function () {
        wx.navigateTo({
            url: '../logs/logs',
        });
    },
    tologin: function () {
        wx.navigateTo({
            url: "../login/login"
        });
    },
    onLoad: function () {
        var _this = this;
        _this.setData({
            userInfo: wx.getStorageSync('userInfo')
        });
        _this.setData({
            hasUserInfo: true
        });
        if (util_1.getUserToken() == null || util_1.getUserToken() == '') {
            wx.navigateTo({
                url: '../login/login'
            });
        }
        var eventChannel = this.getOpenerEventChannel();
        if (eventChannel.on) {
            eventChannel.on('sendUserInfo', function (userinfo) {
                _this.setData({ userInfo: userinfo.data });
                _this.setData({ hasUserInfo: true });
            });
        }
    },
    toquestion: function (e) {
        console.log(e);
        wx.navigateTo({
            url: '../question/question'
        });
    },
    toreg: function () {
        wx.navigateTo({
            url: '../reg/reg'
        });
    },
    onShow: function () {
        if (typeof this.getTabBar === 'function' &&
            this.getTabBar()) {
            this.getTabBar().setData({
                selected: 0
            });
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBLHlDQUE2QztBQUM3QyxJQUFJLENBQUM7SUFDSCxJQUFJLEVBQUU7UUFDSixRQUFRLEVBQUUsRUFBRTtRQUNaLFdBQVcsRUFBRSxLQUFLO1FBQ2xCLE9BQU8sRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLDhCQUE4QixDQUFDO0tBQ3BEO0lBRUQsV0FBVztRQUNULEVBQUUsQ0FBQyxVQUFVLENBQUM7WUFDWixHQUFHLEVBQUUsY0FBYztTQUNwQixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsT0FBTztRQUNMLEVBQUUsQ0FBQyxVQUFVLENBQUM7WUFDWixHQUFHLEVBQUMsZ0JBQWdCO1NBQ3JCLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxNQUFNO1FBQ0osSUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ25CLEtBQUssQ0FBQyxPQUFPLENBQUM7WUFDWixRQUFRLEVBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUM7U0FDdkMsQ0FBQyxDQUFBO1FBQ0YsS0FBSyxDQUFDLE9BQU8sQ0FBQztZQUNaLFdBQVcsRUFBQyxJQUFJO1NBQ2pCLENBQUMsQ0FBQTtRQUNGLElBQUcsbUJBQVksRUFBRSxJQUFHLElBQUksSUFBSSxtQkFBWSxFQUFFLElBQUksRUFBRSxFQUFDO1lBQy9DLEVBQUUsQ0FBQyxVQUFVLENBQUM7Z0JBQ1osR0FBRyxFQUFDLGdCQUFnQjthQUNyQixDQUFDLENBQUE7U0FDSDtRQTRCRCxJQUFNLFlBQVksR0FBRyxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQTtRQUNqRCxJQUFHLFlBQVksQ0FBQyxFQUFFLEVBQUM7WUFDakIsWUFBWSxDQUFDLEVBQUUsQ0FBQyxjQUFjLEVBQUUsVUFBUyxRQUFRO2dCQUMvQyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUMsUUFBUSxFQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFBO2dCQUN2QyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUMsV0FBVyxFQUFDLElBQUksRUFBQyxDQUFDLENBQUE7WUFDbkMsQ0FBQyxDQUFDLENBQUE7U0FDSDtJQUNILENBQUM7SUFDRCxVQUFVLFlBQUMsQ0FBSztRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDZCxFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFDLHNCQUFzQjtTQUMzQixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsS0FBSztRQUNILEVBQUUsQ0FBQyxVQUFVLENBQUM7WUFDWixHQUFHLEVBQUMsWUFBWTtTQUNqQixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsTUFBTTtRQUNKLElBQUksT0FBTyxJQUFJLENBQUMsU0FBUyxLQUFLLFVBQVU7WUFDcEMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxPQUFPLENBQUM7Z0JBQ3ZCLFFBQVEsRUFBRSxDQUFDO2FBQ1osQ0FBQyxDQUFBO1NBQ0g7SUFDTCxDQUFDO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW5kZXgudHNcbi8vIOiOt+WPluW6lOeUqOWunuS+i1xuLy8gY29uc3QgYXBwID0gZ2V0QXBwPElBcHBPcHRpb24+KClcbmltcG9ydCB7Z2V0VXNlclRva2VufSBmcm9tICcuLi8uLi91dGlscy91dGlsJ1xuUGFnZSh7XG4gIGRhdGE6IHtcbiAgICB1c2VySW5mbzoge30sXG4gICAgaGFzVXNlckluZm86IGZhbHNlLFxuICAgIGNhbklVc2U6IHd4LmNhbklVc2UoJ2J1dHRvbi5vcGVuLXR5cGUuZ2V0VXNlckluZm8nKSxcbiAgfSxcbiAgLy8g5LqL5Lu25aSE55CG5Ye95pWwXG4gIGJpbmRWaWV3VGFwKCkge1xuICAgIHd4Lm5hdmlnYXRlVG8oe1xuICAgICAgdXJsOiAnLi4vbG9ncy9sb2dzJyxcbiAgICB9KVxuICB9LFxuICB0b2xvZ2luKCl7XG4gICAgd3gubmF2aWdhdGVUbyh7XG4gICAgICB1cmw6XCIuLi9sb2dpbi9sb2dpblwiXG4gICAgfSlcbiAgfSxcbiAgb25Mb2FkKCkge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5zZXREYXRhKHtcbiAgICAgIHVzZXJJbmZvOnd4LmdldFN0b3JhZ2VTeW5jKCd1c2VySW5mbycpXG4gICAgfSlcbiAgICBfdGhpcy5zZXREYXRhKHtcbiAgICAgIGhhc1VzZXJJbmZvOnRydWVcbiAgICB9KVxuICAgIGlmKGdldFVzZXJUb2tlbigpID09bnVsbCB8fCBnZXRVc2VyVG9rZW4oKSA9PSAnJyl7XG4gICAgICB3eC5uYXZpZ2F0ZVRvKHtcbiAgICAgICAgdXJsOicuLi9sb2dpbi9sb2dpbidcbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIC8vIGlmIChhcHAuZ2xvYmFsRGF0YS51c2VySW5mbykge1xuICAgIC8vICAgdGhpcy5zZXREYXRhKHtcbiAgICAvLyAgICAgdXNlckluZm86IGFwcC5nbG9iYWxEYXRhLnVzZXJJbmZvLFxuICAgIC8vICAgICBoYXNVc2VySW5mbzogdHJ1ZSxcbiAgICAvLyAgIH0pXG4gICAgLy8gfSBlbHNlIGlmICh0aGlzLmRhdGEuY2FuSVVzZSkge1xuICAgIC8vICAgLy8g55Sx5LqOIGdldFVzZXJJbmZvIOaYr+e9kee7nOivt+axgu+8jOWPr+iDveS8muWcqCBQYWdlLm9uTG9hZCDkuYvlkI7miY3ov5Tlm55cbiAgICAvLyAgIC8vIOaJgOS7peatpOWkhOWKoOWFpSBjYWxsYmFjayDku6XpmLLmraLov5nnp43mg4XlhrVcbiAgICAvLyAgIGFwcC51c2VySW5mb1JlYWR5Q2FsbGJhY2sgPSByZXMgPT4ge1xuICAgIC8vICAgICB0aGlzLnNldERhdGEoe1xuICAgIC8vICAgICAgIHVzZXJJbmZvOiByZXMudXNlckluZm8sXG4gICAgLy8gICAgICAgaGFzVXNlckluZm86IHRydWUsXG4gICAgLy8gICAgIH0pXG4gICAgLy8gICB9XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgIC8vIOWcqOayoeaciSBvcGVuLXR5cGU9Z2V0VXNlckluZm8g54mI5pys55qE5YW85a655aSE55CGXG4gICAgLy8gICB3eC5nZXRVc2VySW5mbyh7XG4gICAgLy8gICAgIHN1Y2Nlc3M6IHJlcyA9PiB7XG4gICAgLy8gICAgICAgYXBwLmdsb2JhbERhdGEudXNlckluZm8gPSByZXMudXNlckluZm9cbiAgICAvLyAgICAgICB0aGlzLnNldERhdGEoe1xuICAgIC8vICAgICAgICAgdXNlckluZm86IHJlcy51c2VySW5mbyxcbiAgICAvLyAgICAgICAgIGhhc1VzZXJJbmZvOiB0cnVlLFxuICAgIC8vICAgICAgIH0pXG4gICAgLy8gICAgIH0sXG4gICAgLy8gICB9KVxuICAgIC8vIH1cbiAgICBjb25zdCBldmVudENoYW5uZWwgPSB0aGlzLmdldE9wZW5lckV2ZW50Q2hhbm5lbCgpXG4gICAgaWYoZXZlbnRDaGFubmVsLm9uKXtcbiAgICAgIGV2ZW50Q2hhbm5lbC5vbignc2VuZFVzZXJJbmZvJywgZnVuY3Rpb24odXNlcmluZm8pIHtcbiAgICAgICAgX3RoaXMuc2V0RGF0YSh7dXNlckluZm86dXNlcmluZm8uZGF0YX0pXG4gICAgICAgIF90aGlzLnNldERhdGEoe2hhc1VzZXJJbmZvOnRydWV9KVxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIHRvcXVlc3Rpb24oZTphbnkpe1xuICAgIGNvbnNvbGUubG9nKGUpXG4gICAgd3gubmF2aWdhdGVUbyh7XG4gICAgICB1cmw6Jy4uL3F1ZXN0aW9uL3F1ZXN0aW9uJ1xuICAgIH0pXG4gIH0sXG4gIHRvcmVnKCl7XG4gICAgd3gubmF2aWdhdGVUbyh7XG4gICAgICB1cmw6Jy4uL3JlZy9yZWcnXG4gICAgfSlcbiAgfSxcbiAgb25TaG93KCl7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmdldFRhYkJhciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICB0aGlzLmdldFRhYkJhcigpKSB7XG4gICAgICAgIHRoaXMuZ2V0VGFiQmFyKCkuc2V0RGF0YSh7XG4gICAgICAgICAgc2VsZWN0ZWQ6IDBcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgfVxufSlcbiJdfQ==